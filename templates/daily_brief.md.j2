# 🔮 Crypto Market Brief - {{ date }}

## 📊 Market Consensus {{ consensus.emoji|default('🟡') }}

**Action:** `{{ consensus.action|default('HOLD')|upper }}` with **{{ consensus.score|default(50)|safe_round(1) }}%** conviction

{% if consensus.risk_override|default(false) %}
⚠️ **RISK OVERRIDE ACTIVE:** Original action "{{ consensus.original_action|default('HOLD')|upper }}" overridden to "{{ consensus.action|default('DE-RISK')|upper }}" due to risk flags.
{% endif %}

{% if consensus.distribution is defined and consensus.distribution.agreement_level is defined and consensus.distribution.agreement_level < 0.5 %}
⚠️ **Warning:** Significant disagreement detected among agents ({{ (consensus.distribution.agreement_level * 100)|safe_round }}% agreement)
{% endif %}

---

## 🚨 Risk Flags

{% if consensus.risk_flags is defined and consensus.risk_flags %}
{% for flag in consensus.risk_flags %}
- {{ flag.emoji|default('⚠️') }} **{{ flag.name|default('Risk Flag') }}**: {{ flag.description|default('No description available') }} (value: {{ flag.value|default(0)|safe_round(2) }})
{% endfor %}
{% else %}
No critical risk flags detected.
{% endif %}

---

## 📈 Key Indicators

| Indicator | Value | Signal |
|-----------|-------|--------|
{% for name, indicator in indicators.items() %}
| {{ name }} | {{ indicator.value|default(0)|safe_round(2) }} | {{ indicator.signal|default('neutral') }} |
{% endfor %}

---

## 👥 Agent Votes

{% if consensus.agent_votes is defined %}
{% for agent in consensus.agent_votes %}
### {{ agent.name|default('Unknown Agent') }}
- **Score:** {{ agent.score|default(50)|safe_round(1) }}/100
- **Action:** {{ agent.action|default('HOLD') }}
- **Confidence:** {{ (agent.confidence|default(0.5) * 100)|safe_round(1) }}%
- **Rationale:** {{ agent.rationale|default('No rationale provided') }}
{% endfor %}
{% else %}
No agent votes available for this date.
{% endif %}

---

## 📊 Signal Analysis

{% for agent_name, insight in insights.items() if insight.signals is defined %}
### {{ agent_name }} - Signal Weights
{% for signal_name, signal_data in insight.signals.items() %}
- **{{ signal_name }}**: Base score {{ signal_data.base_score|default(50) }} × Weight {{ signal_data.weight|default(1.0)|safe_round(2) }} = {{ signal_data.weighted_score|default(50)|safe_round(1) }}
{% endfor %}
{% else %}
No detailed signal analysis available.
{% endfor %}

---

*Generated by the Crypto Analyst Agent Swarm on {{ generation_time }}*
*© 2025 Crypto Analyst Agent Swarm*
